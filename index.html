<!DOCTYPE html>
<html>
<head>
  <title>Trade-Bildergalerie</title>
  <style>
    html, body {
        height: 100%; /* Setze die Höhe auf 100% */
        margin: 4px; /* Entferne Standard-Margen */
    }
    #h1 {
        text-align: center;        
        background-color: rgb(219, 210, 210);
        height: 5%; /* Höhe für den Überschrift-Container */
    }
    #picContainer {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
        gap: 5px;
        height: 80%; /* Höhe für den Hauptbereich */
    }
    #picContainer img {
        width: 100%; /* Setze die Breite auf 100% des Containers */
        height: auto; /* Behalte das Seitenverhältnis bei */
        max-height: 100%; /* Maximalhöhe auf 100% des Containers */
        object-fit: contain; /* Skaliere das Bild, um es im Container zu zentrieren */
        border: 2px solid black;
        border-radius: 5px;
    }
    button {
      display: inline-block;
      margin: 10px 10px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      text-align: center; /* Text zentrieren */
      line-height: 0.5; /* Zeilenhöhe anpassen für vertikale Zentrierung */
    }
    #buttonContainer {
        display: flex;
        justify-content: center;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: rgb(219, 210, 210);
        padding: 5px 5px;
        height: auto; /* Höhe für den Button-Container */
    }
  </style>
</head>
<body>
    <div id="h1">
        <h1>Trade-Bildergalerie</h1>
    </div>
  <div id="picContainer">
    <div class="imgContainer" style="flex: 1; display: flex; justify-content: center; align-items: center;">
        <img id="entryImage" src="entry1.jpg" alt="Trade-Einstieg">
    </div>
    <div class="imgContainer" style="flex: 1; display: flex; justify-content: center; align-items: center;">
        <img id="exitImage" src="placeholder.jpg" alt="Trade-Ausstieg" style="display:none;">
    </div>
  </div>
  
  <div id="buttonContainer">
    <button onclick="showExitImage()">Trade-Ausstieg anzeigen</button>
    <button onclick="nextPair()">Nächstes Bildpaar</button>
  </div>

  <script>
    let currentIndex = 0;
    let trades = [
      { "index": 0, "result": "profit" },
      { "index": 1, "result": "profit" },
      { "index": 2, "result": "profit" },
      { "index": 3, "result": "loss" },
      { "index": 4, "result": "profit" }
    ]; // Array für die Trades

    // Setze das erste Entry-Bild beim Laden der Seite
    window.onload = function() {
      loadImage();
    };

    function loadImage() {
      const entryImage = document.getElementById('entryImage');
      const exitImage = document.getElementById('exitImage');

      // Versuche, das Entry-Bild zu laden
      entryImage.src = `images/entry${currentIndex + 1}.png`;
      exitImage.src = `images/exit${currentIndex + 1}.png`;

      // Überprüfe, ob das Entry-Bild existiert
      const img = new Image();
      img.src = entryImage.src;
      img.onload = function() {
        // Bild existiert, zeige es an
        entryImage.style.display = 'block';
        exitImage.style.display = 'none'; // Verstecke das Ausstiegsbild
      };
      img.onerror = function() {
        // Bild existiert nicht, gehe zurück zu Index 0
        currentIndex = 0; // Setze den Index auf 0 zurück
        loadImage(); // Versuche es erneut
      };
    }

    function showExitImage() {
      const exitImage = document.getElementById('exitImage');
      exitImage.style.display = 'block';

      // Zeige das Ergebnis des Trades an
      if (currentIndex < trades.length) {
        const tradeResult = trades[currentIndex].result;
        console.log(`Trade ${currentIndex + 1}: ${tradeResult}`);

        // Ändere den Rahmen des Ausstiegsbildes basierend auf dem Ergebnis
        if (tradeResult === "profit") {
          exitImage.style.border = '5px solid green'; // Grüner Rahmen für Profit
        } else {
          exitImage.style.border = '5px solid red'; // Roter Rahmen für Verlust
        }
      } else {
        console.log(`Trade ${currentIndex + 1}: unbekannt`);
      }
    }

    function nextPair() {
      currentIndex = (currentIndex + 1) % trades.length; // Zyklen durch die Trades
      loadImage(); // Lade das nächste Bildpaar
    }

    // Tastenkürzel hinzufügen
    document.addEventListener('keydown', function(event) {
      if (event.key === '1' || event.key === '0') {
        showExitImage();
      } else if (event.key === 'n' || event.key === 'Enter' || event.key === ' ') {
        nextPair();
      } else if (event.key === 'ArrowRight') {
        const exitImage = document.getElementById('exitImage');
        if (exitImage.style.display === 'none') {
          showExitImage();
        } else {
          nextPair();
        }
      } else if (event.key === 'ArrowLeft') {
        console.log(`links`); // Ausgabe in der Konsole
        currentIndex = (currentIndex - 1 + trades.length) % trades.length; // Index aktualisieren
        loadImage(); // Nächstes Bild laden
      }
    });
  </script>
</body>
</html>
